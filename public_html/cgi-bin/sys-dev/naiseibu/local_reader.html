<html>
<head><title>サーバー上のテキストファイルを読み込む</title>
</head>
<body>
<script type="text/javascript">
function loadHtml(fileName){
    httpObj = new XMLHttpRequest();
    httpObj.open('GET',fileName+"?"+(new Date()).getTime(),true);
    // ?以降はキャッシュされたファイルではなく、毎回読み込むためのもの
    httpObj.send(null);
    httpObj.onreadystatechange = function(){
        if ( (httpObj.readyState == 4) && (httpObj.status == 200) ){
            paths = httpObj.responseText.split(" ");
	    var out = "";
	    for (n = 0; n < paths.length; n++) {
				out +=  paths[n] + "\n";
				//document.write(paths[n]+'<br>');
	    }
	    document.getElementById("out").innerHTML = out;
        }
    }
}
</script>

<input type="button" value="ファイル読み込み" 
       onClick="loadHtml('http://ssh.cs.ehime-u.ac.jp/~e1589naka/cgi-bin/sys-dev/naiseibu/work_history.txt')" />　
<input type="button" value="クリア" 
       onClick="document.getElementById('out').innerHTML='';" />
<br>
<div id="out"></div>

</body>
</html>



